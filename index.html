
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lediga jobb</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" href="https://career.talentech.com/css/index-style.css">
<link rel="stylesheet" href="./css/cms-index.css">
<link rel="icon" type="image/x-icon" href="./files/favicon-16x16.webp">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://kit.fontawesome.com/ca38a06270.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script src="https://widget.gobistories.com/gwi/6" async onload="gobi.discover()"></script>

	
  <meta property="og:title" content="Wistrand karriärportal">
  <meta property="og:description" content="Vi söker nya perspektiv - add you.">
  <meta property="og:image" content="https://github.com/HeadlessJobSites/Wistrand/blob/main/files/CMS-Wistrand-social.jpg?raw=true">
  <meta property="og:url" content="https://headlessjobsites.github.io/Wistrand">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Wistrand karriärportal">
  <meta name="twitter:description" content="Vi söker nya perspektiv - add you.">
  <meta name="twitter:image" content="https://github.com/HeadlessJobSites/Wistrand/blob/main/files/CMS-Wistrand-social.jpg?raw=true">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:type" content="website">
	
</head>

<body class="front-page">


<nav class="navbar navbar-expand-lg navbar-dark fixed-top" style="background-color: rgba(0, 0, 0, 0.0);">
    <div class="container">
        <a class="navbar-brand" href="./" aria-label="Home">
            <img src="./files/Logo-white.svg" height="24" class="d-inline-block align-top" alt="">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="./#jobs-anchor">Jobb</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./#meet-employees">Träffa de anställda</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./#our-process">Rekryteringsprocess</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="https://web106.reachmee.com/ext/I002/233/profile?site=5&validator=b026c105ea4a83b928726cb7cb18488c&lang=SE">Logga in</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" target="blank" href="https://cms.law/sv/swe/">cms.law <span class="sr-only">(current)</span></a>
                </li>
            </ul>
        </div>
    </div>
</nav> 



<script>
$(document).ready(function() {
  $(window).scroll(function() {
    if ($(window).scrollTop() > 56) {
      $(".navbar").addClass("bg-dark");
    } else {
      $(".navbar").removeClass("bg-dark");
    }
  });
  $(".navbar-toggler").click(function() {
    if (!$(".navbar-collapse").hasClass("show")) {
      $(".navbar").addClass("bg-dark");
    } else {
      if ($(window).scrollTop() < 56) {
        $(".navbar").removeClass("bg-dark");
      } else {
      }
    }
  });
});
</script>


	<div class="hero-section">
    <div class="custom-hero"></div>
    <video playsinline autoplay loop muted class="hero-video">
        <source src="/Wistrand/files/CMS-webfilm.mp4" type="video/mp4">
    </video>
    <div class="hero-content">
        <h1>Vi söker nya perspektiv - add you.</h1>
        <a href="#jobs-anchor" class="btn btn-primary btn-lg dark-btn"><strong>Se våra lediga tjänster</strong></a>
    </div>
	</div>


<script>
document.addEventListener('DOMContentLoaded', function() {
  // Fetch the jobs from the feed
  fetch('https://api.talentech.io/reachmee/feed/wistrand')
    .then(response => response.json())
    .then(jobs => {
      const positionsCount = jobs.length; // Get the count of jobs from the feed
      const btnText = positionsCount === 1 ? 'Se 1 ledig jobb' : `Se våra ${positionsCount} lediga tjänster`; // Update button text based on count
      document.querySelector('a.btn.btn-primary.btn-lg strong').textContent = positionsCount > 0 ? btnText : 'Se lediga jobb';
    })
    .catch(error => {
      console.error('Error fetching job details:', error);
      // If there is an error fetching the jobs, show default text
      document.querySelector('a.btn.btn-primary.btn-lg strong').textContent = 'Se våra lediga tjänstar';
    });
});
</script>

<!--
<div class="gobi-stories-container" id="gobi-stories-container">
  <button aria-label="Close video" class="close-btn" onclick="document.getElementById('gobi-stories-container').style.display='none';"><i class="fa-regular fa-xmark"></i></button>
<script src="https://widget.gobistories.com/gwi/6" async onload="gobi.discover()"></script>

<div class="gobi-collection" data-gobi-collection-id="pncc7"></div>
  <a href="#company-section" aria-label="Get to know us"><div class="gobi-stories-text">Get to know us</div></a>
</div>
-->
	
	
	<div class="talentech-section" id="company-section">
    <div class="container mt-5 pt-4 m-mt-2">
        <h2 class="m-px-2">Välkommen till <span style="font-weight: 800;">CMS Wistrand</span></h2>
        <p class="pt-3 m-px-2">CMS Wistrand är en av Sveriges ledande affärsjuridiska byråer. På våra kontor i Stockholm och Göteborg är vi drygt 200 medarbetare – och som en del av CMS är vi en av världens största advokatbyråer med mer än 5 800 juridiska experter i över 45 länder. Lockas du av att lösa komplexa problem som ställer krav på innovation, expertis och samarbete? Vill du dessutom arbeta i en internationell miljö och värdesätter en öppen och inkluderande arbetsplats – då är CMS Wistrand rätt för dig.</p>
    </div>
</div>





<!-- DISABLE VIDEO CONTROLS
<script>
document.addEventListener('DOMContentLoaded', () => {
    const video = document.getElementById('talentechVideo');
    const muteBtn = document.getElementById('muteBtn');
    const muteIcon = muteBtn.querySelector('img');

    // Function to toggle video play/pause
    const togglePlayPause = () => {
        if (video.paused || video.ended) {
            video.play();
        } else {
            video.pause();
        }
    };

    // Setup Intersection Observer for autoplay/pause based on visibility
    // This part will now work on all devices
    const observer = new IntersectionObserver((entries) => {
        const [entry] = entries;
        if (entry.isIntersecting) {
            video.play();
        } else {
            video.pause();
        }
    }, {
        root: null,
        threshold: 0.5
    });

    observer.observe(video);

    // Check if we are on desktop before adding event listeners for play/pause and mute controls
    if (window.innerWidth > 992) {
        // Click event for the video itself
        video.addEventListener('click', () => {
            togglePlayPause();
        });

        // Event listener for the mute button
        muteBtn.addEventListener('click', () => {
            video.muted = !video.muted;
            muteIcon.src = video.muted ? "./files/volume-xmark-thin.svg" : "./files/volume-off-thin.svg";
            muteIcon.alt = video.muted ? "Mute" : "Unmute";
        });
    }
});
</script>
-->

<div class="talentech-section mb-5 m-mb-3">
    <div class="container mt-4 pt-2 mb-5 pb-3 video-container m-my-0">
        <video id="talentechVideo" class="rounded-video" playsinline autoplay loop muted>
            <source src="/Wistrand/files/ADD_film.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video><!--
        <div class="video-controls">
            <button id="muteBtn"><img src="./files/volume-xmark-thin.svg" alt="Mute"></button>
        </div>-->
    </div>
</div>
	







        <h2 class="container pt-5 mt-5 m-my-0 m-px-4 m-pb-0">Våra <span style="font-weight: 800;">värderingar</span></h2>
	<div id="teamCarousel" class="carousel slide" data-interval="false">
    <div class="carousel-inner">
        <div class="carousel-item active">
            <div class="container">
                <div class="row ">
                    <!-- Team Member 1 -->
                    <div class="col-md-4 team-member">
<div class="team-background-image mb-3" alt="" style="background-image: url('./files/A1080271.jpg')"></div>
                        <p class="role mb-3">Med dig ser vi nya möjligheter</p>
                        <p>Vi vet att en mångfald av kompetenser, perspektiv och erfarenheter inte bara ger en trevligare arbetsplats, utan också är en förutsättning för att ge våra klienter den bästa rådgivningen. När du börjar hos oss blir du en del av en öppen och inbjudande kultur där du får utrymme att vara dig själv – och där du kan vara trygg med att din röst blir hörd.</p>
                    </div>
                    <!-- Team Member 2 -->
                    <div class="col-md-4 team-member">
<div class="team-background-image mb-3" alt="" style="background-image: url('./files/A1090896.jpg')"></div>
                        <p class="role mb-3">Innovation som tradition</p>
                        <p>Vi ser innovation som en drivande faktor bakom framgång. Vår bransch förändras ständigt, och vi ser till att vara rätt rustade för framtiden genom att hitta nya och mer effektiva sätt att leverera affärsjuridiska tjänster. Det innebär att vi uppmuntrar våra medarbetare att tänka kreativt och ta initiativ, oavsett om det handlar om att använda digitala verktyg för att effektivisera arbetsflöden eller att utveckla nya tjänster som möter klienternas föränderliga behov.</p>
                    </div>
                    <!-- Team Member 3 -->
                    <div class="col-md-4 team-member">
<div class="team-background-image mb-3" alt="" style="background-image: url('./files/A1090755.jpg')"></div>
                        <p class="role mb-3">Hållbarhet i stort som litet</p>
                        <p>För oss är det viktigt att vi bidrar till en positiv utveckling inom hållbarhetsområdet. En stor del av detta arbete är att stötta och vägleda våra klienter i ESG-frågor kring regelefterlevnad, strategier och policys. Men att skapa en hållbar arbetsmiljö är en lika viktig komponent – därför ser vi till att du har de bästa förutsättningarna för att prestera långsiktigt, genom att erbjuda både stöd för att hantera arbetets utmaningar och utrymme för återhämtning.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>





	

<!-- GOBI VIDEOER MIDLERTIDIG DEAKTIVERT
<section class="team-section my-2 mt-5 py-5 m-pt-3 m-mb-0 m-mt-5" id="meet-the-team" style="background-color: rgb(233, 243, 230);">
        <h2 class="container pt-5 mb-0 pb-0 m-px-4">Møt folka hos <span style="font-weight: 800;">NAF</span></h2>
    <div class="container mt-0 pt-2">
        <div class="row mt-3 m-mt-2 m-mx-1">
		    <script src="https://widget.gobistories.com/gwi/6" async onload="gobi.discover()"></script>

<div class="gobi-collection" data-gobi-collection-id="r8fo6"></div>
		    
    </div>
</section>
-->




	





<div class="feature-section members" id="meet-employees" style="">
    <div class="container py-5 m-py-0">
        <h2 class="pt-5 m-px-2">Fyra röster om <span style="font-weight: 800;">CMS Wistrand</span></h2>
        <div class="row align-items-top mt-5 mb-5 pb-3 flex-lg-row m-mt-4 m-mb-0"> <!-- Changes for mobile first -->
            <div class="col-lg-6">
                <div class="background-image rounded-image m-mb-0" style="background-image: url('./files/Nina_A1082708.jpg');"></div>
            </div>
            <div class="col-lg-6 text-padding py-0 m-p-4"> <!-- text-padding class for more padding -->
                <h3 style="font-size: 24px;font-weight: 800;">Nina Knobloch Blomqvist</h3>
				<p><strong>Biträdande jurist, Miljögruppen</strong></p>
				<p>
				<strong>Berätta lite om dig själv och hur du hamnade här!</strong><br>Jag är statsvetare i grunden och har alltid varit nyfiken på hur samhället fungerar och vad som håller ihop det. Den nyfikenheten ledde mig vidare till juridiken, som ju är samhällets spelregler. Min bakgrund ledde mig naturligt vidare till fördjupningar inom stats- och konstitutionell rätt. Efter några år på Mark- och miljödomstolen i Växjö och Länsstyrelsen Skåne fick jag sedan möjligheten att ansluta till CMS Wistrands miljögrupp i Göteborg. <br><br><strong>Hur skulle du beskriva kulturen hos oss?</strong><br> CMS Wistrand i Göteborg är en ung och energifylld arbetsplats. Här är alltid något galet upptåg på gång! <strong><br><br>Vad uppskattar du mest med att arbeta på CMS Wistrand?</strong><br> Kollegorna! Det är otroligt lyxigt att få arbeta tillsammans med så kunniga, generösa och aktivt trevliga människor.	
				</p>
            </div>
        </div>
<div class="row align-items-top mt-5 mb-5 pt-5 pb-3 m-my-0 m-pt-0">
    <div class="col-lg-6 text-padding py-0 m-p-4 order-2 order-lg-1">
        <h3 style="font-size: 24px;font-weight: 800;">Mattias Boqvist</h3>
        <p><strong>Delägare, M&A</strong></p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur nec ligula vel eros condimentum pellentesque consequat non neque. Sed dui ipsum, hendrerit at libero id, mollis pellentesque dui. Nulla facilisi. Cras ut mi mauris. Nulla dui magna, eleifend non vehicula vitae, accumsan ut nibh. Aliquam pharetra mollis dui eget imperdiet.</p>
    </div>
    <div class="col-lg-6 order-1 order-lg-2">
        <div class="background-image rounded-image m-mb-0" style="background-image: url('./files/Mattias_A1082471.jpg');"></div>
    </div>
</div>
        <div class="row align-items-top pt-5 mt-5 mb-5 pb-3 flex-lg-row m-mt-0 m-pt-0 m-mb-0 m-pb-4"> <!-- Changes for mobile first -->
            <div class="col-lg-6">
                <div class="background-image rounded-image m-mb-0" style="background-image: url('./files/Tua_A1080049.jpg');"></div>
            </div>
            <div class="col-lg-6 text-padding py-0 m-p-4"> <!-- text-padding class for more padding -->
                <h3 style="font-size: 24px;font-weight: 800;">Tua Larsson</h3>
				<p><strong>Receptionist</strong></p>
				<p>
				<strong>Hur skulle du beskriva kulturen på CMS Wistrand?</strong><br>Det är nog lätt att tro att det ska vara en hierarki på en advokatbyrå, men CMS Wistrand är allt annat än det. Alla, oavsett roll är alltid trevliga och lättsamma att prata med. Vi har väldigt roligt med varandra på diverse aktiviteter och alla är alltid välkomna.<br><br><strong>Hur ser en vanlig dag ut?</strong><br>Jag sitter i receptionen vilket innebär en del olika arbetsuppgifter, jag ordnar även olika event både internt och externt. Vilket gör att alla dagar egentligen ser olika ut, det kan vara allt från att hitta ett nytt alternativ på fika till vårt onsdagsfika vi har varje vecka till att ordna ett mingel till studenter som kommer på besök. Det är det som är kul med min roll. <br><br><strong>Vad uppskattar du mest med att arbeta hos oss?</strong><br>Det jag uppskattar mest med min arbetsplats är mina kollegor, i repan så får vi flera olika interaktioner med diverse kollegor vilket alltid är trevligt och jag har fått många kompisar från kontoret. Vi har även väldigt bra förmåner vilket var en stor skillnad mot tidigare arbetsplatser jag varit på.	
				</p>
            </div>
        </div>
<div class="row align-items-top pt-5 mt-5 mb-5 pb-3 m-my-0 m-pt-0">
    <div class="col-lg-6 text-padding py-0 m-p-4 order-2 order-lg-1">
        <h3 style="font-size: 24px;font-weight: 800;">Noah Taha</h3>
        <p><strong>Biträdande jurist, Company Commercial-gruppen</strong></p>
        <p>
	<strong>Berätta lite om dig själv och hur du hamnade på CMS Wistrand?</strong><br>Att bli jurist var aldrig något uttalat mål jag hade. Jag arbetade länge som restaurangchef på McDonald’s och trivdes med det innan jag började studera. Att valet av studier föll på just juridik var främst för att jag gillar problemlösning och att arbeta systematiskt. Efter studierna satt jag ting och var en vända på en annan byrå innan jag började på CMS Wistrand.<br><br><strong>Vilka typer av uppdrag eller projekt har du varit mest engagerad i?</strong><br>Uppdragen varierar väldigt mycket vilket är lite av charmen. Vissa kan innebära att hjälpa till med att lösa problem mellan aktieägarna och andra omfattar större transaktioner med flera olika jurisdiktioner.<br><br><strong>Hur var den första tiden – var det något som stack ut?</strong><br>Första tiden på en ny arbetsplats är alltid en utmaning. Man vill gärna uppfylla och möta kollegornas förväntningar, passa in socialt och samtidigt känna efter vad man själv tycker. Jag har haft turen att kollegorna alltid har varit välkomnande och snälla, vilket gjort första tiden väldigt smidig.	
	</p>
    </div>
    <div class="col-lg-6 order-1 order-lg-2">
        <div class="background-image rounded-image m-mb-0" style="background-image: url('./files/Noa_A1070112.jpg');"></div>
    </div>
</div>

    </div>
</div>








	
<div class="quote-section py-5">
    <div class="container py-5 mt-3 m-py-2">
        <blockquote class="blockquote text-center">
            <p class="mb-4">"Det är otroligt lyxigt att få arbeta tillsammans med så kunniga, generösa och aktivt trevliga människor."</p>
            <footer class="blockquote-footer"><strong>Nina Knobloch Blomqvist</strong><br>biträdande jurist</footer>
        </blockquote>
    </div>
</div>





<section id="our-process" class="process-section pt-5 m-my-0 m-pt-0 m-pb-4" style="background-color: #eeeef2;">
    <div class="container pt-5 m-px-4 m-pb-2">
        <h2>Vår <span style="font-weight: 800;">rekryterings&shy;process</span></h2>
    </div>
    <div class="container">
        <div class="row">
<!-- DISABLE GOBI VIDEO
            <div class="col-md-4 px-0">
<script src="https://widget.gobistories.com/gwi/6" async onload="gobi.discover()"></script>

<div class="gobi-collection" data-gobi-collection-id="j2jom"></div>
            </div>
-->
            <!-- Existing Content in Right Column -->
            <div class="col-md-12 pl-5 m-px-4">
                <div class="row process-row">
                    <!-- Benefit 1 -->
                    <div class="col-md-4 col-sm-4 process-item">
                        <div class="process-icon">
                            <h3>1</h3>
                        </div>
                        <div class="process-content">
                            <h3>Skicka in din ansökan</h3>
                            <p>Du ansöker genom att ladda upp CV och andra relevanta ansökningshandlingar i vår karriärportal.</p>
                        </div>
                    </div>
                    <!-- Benefit 2 -->
                    <div class="col-md-4 col-sm-4 process-item">
                        <div class="process-icon">
                            <h3>2</>
                        </div>
                        <div class="process-content">
                            <h3>Första urval och screening</h3>
                            <p>Vi går igenom din ansökan och ser om dina kunskaper, erfarenheter och kompetenser stämmer överens med det vi söker.</p>
                        </div>
                    </div>
                    <!-- Benefit 3 -->
                    <div class="col-md-4 col-sm-4 process-item">
                        <div class="process-icon">
                            <h3>3</h3>
                        </div>
                        <div class="process-content">
                            <h3>Tester</h3>
                            <p>Beroende på vilken roll du söker till kan du bli ombedd att genomföra ett personlighetstest och ett test som mäter din problemlösningsförmåga.</p>
                        </div>
                    </div>
                    <!-- Benefit 4 -->
                    <div class="col-md-4 col-sm-4 process-item">
                        <div class="process-icon">
                            <h3>4</h3>
                        </div>
                        <div class="process-content">
                            <h3>Intervjuprocess </h3>
                            <p>Beroende på vilken roll du söker kan du bli kallad till en eller fler intervjuer för att vi ska lära känna varandra och få möjlighet att höra mer om dina erfarenheter och ambitioner.</p>
                        </div>
                    </div>
                    <!-- Benefit 5 -->
                    <div class="col-md-4 col-sm-4 process-item">
                        <div class="process-icon">
                            <h3>5</h3>
                        </div>
                        <div class="process-content">
                            <h3>Erbjudande och onboarding</h3>
                            <p>Om det blir en matchning ger vi dig ett erbjudande om anställning. När du har tackat ja börjar onboarding och självklart guidar vi dig genom varje steg!</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>




	
	
	




	

	
<div class="feature-section pt-3 pb-5" id="jobs-anchor" style="background-color: #eeeef2;">
<div class="container mt-3 mb-0 m-mb-0">
    <h2 class="my-5 m-px-2 m-my-0">Lediga <span style="font-weight: 800">jobb</span></h2>
    <div class="row my-3">
        <div class="col-md-3 mb-3">
            <label for="locationFilter">Plats</label>
            <select id="locationFilter" class="form-control">
                <option value="All">Alla platser</option>
                <!-- Location options will be dynamically added here -->
            </select>
        </div>
        <div class="col-md-3 mb-3">
            <label for="jobTypeFilter">Arbetstyp</label>
            <select id="jobTypeFilter" class="form-control">
                <option value="All">Alla typer av jobb</option>
                <!-- Job type options will be dynamically added here -->
            </select>
        </div>
    </div>
    <div id="jobList" class="row"></div>
	<div class="text-center mt-2">
    <button id="loadMore" class="btn btn-primary">Load more</button>
	</div>
</div>
</div>


<!-- DISABLED DUE TO POSITION UNPUBLISHED
<div class="feature-section mb-5 pb-5" id="jobs-anchor" style="background-color: #eeeef2;">
<div class="container mb-5 m-mb-0">
    <h3 class="mb-5 m-px-2 m-mb-4">Join our <span style="font-weight: 800">talent pool</span></h3>

    <div id="" class="row">

<div class="col-12 col-md-4 col-lg-4 mb-4">
    <a href="/job-details.html?open-application" class="" style="text-decoration: none; color: inherit;" aria-label="Open application">
        <div class="card h-100">
            <div class="card-body">
		        <div class="card-category"><span>General</span></div>
                <div class="card-title">Unsolicited application</div>
                <p class="card-text">Talentech</p>
			    <a href="/job-details.html?open-application" class="stretched-link">
                <img src="/files/arrow-right-thin.svg" class="stretched-link" alt="Details" style="">
		</a>
            </div>
        </div>
    </a>
</div>
	    
    </div>
</div>
</div>
 -->	










<!-- JOB AGENT DEACTIVATED
<div class="container my-5 py-5 m-my-0 m-pt-0" style="text-align: center;">
    <div class="agent-wrapper">
        <h2>Fant du ikke stillingen for deg?</h2>
        <div class="mt-4 mb-2">
		<p>Abonner på stillinger, så får du en e-post når det er en ledig stilling som passer dine preferanser.</p>
		</div>
    </div>
 

    <button id="agent" class="mt-3 btn btn-primary" style="font-weight:800">Registrer deg</button>


<div class="modal fade modal-fullscreen-90w" id="exampleModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" id="closeModalButton" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <iframe id="modalIframe" src="" style="border: none; width: 100%; height: 450px;"></iframe>
      </div>
    </div>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('agent').addEventListener('click', function() {
        var iframeUrl = "https://web106.reachmee.com/ext/I002/233/subscribe?site=5&lang=SE&validator=b026c105ea4a83b928726cb7cb18488c";
        document.getElementById('modalIframe').src = iframeUrl;
        $('#exampleModal').modal('show');
    });
});
</script>

</div>
-->



<!-- FOOTER DEACTIVATED
<section class="text-center bg-dark text-light py-5">
    <div class="container custom-footer">
        <img src="./files/NAF-logo.jpeg" alt="NAF Logo" class="mb-3" style="max-width: 180px;">
                <div class="mt-3 mb-4" style="max-width: 600px; margin: auto;">
		 <p style="font-size: 1.25rem;">NAF er en av Norges mest kjente organisasjoner, med over 750.000 medlemmer og kunder. Det skal vi fortsette å være fremover, og da trenger vi flere gode medarbeidere, både i Forbundet, på våre øvingsbaner og ute på NAF-sentrene!</p>
		</div>
        <div class="">
            <a href="https://www.facebook.com/nafnorge"><img src="./files/TT-f.svg" alt="Icon 1" class="mx-2" style="width: 30px; height: 30px;"></a>
            <a href="https://www.linkedin.com/company/norges-automobil-forbund/"><img src="./files/TT-l.svg" alt="Icon 2" class="mx-2" style="width: 30px; height: 30px;"></a>
            <a href="https://www.naf.no/kundeservice" target="_blank"><img src="./files/TT-e.svg" alt="Icon 4" class="mx-2" style="width: 30px; height: 30px;"></a>
        </div>
    </div>
</section>

-->


	
<div class="container my-0 py-1 m-py-2">
    <div class="d-flex flex-column flex-sm-row align-items-start align-items-sm-center">
        <div>
            <span class="mr-1">Levereras av</span>
            <img src="./files/TT-fav.svg" alt="Talentech Logo" style="width: 20px; vertical-align: middle; position: relative; bottom: 1px;">
            <span class="ml-1" style="">Talentech</span>
        </div>

        <div class="share-container mt-2 mt-sm-0 ml-sm-auto">
            <span class="d-block d-sm-inline mb-1">
                Dela på sociala medier: 
                <a href="#" id="facebook-share-link" target="_blank" rel="noopener noreferrer">
                    <img src="https://cdn.jsdelivr.net/npm/simple-icons/icons/facebook.svg" alt="Share on Facebook" width="16" height="16">
                </a>
                <a href="#" id="twitter-share-link" target="_blank" rel="noopener noreferrer">
                    <img src="https://cdn.jsdelivr.net/npm/simple-icons/icons/x.svg" alt="Share on X" width="16" height="16">
                </a>
                <a href="#" id="linkedin-share-link" target="_blank" rel="noopener noreferrer">
                    <img src="https://cdn.jsdelivr.net/npm/simple-icons/icons/linkedin.svg" alt="Share on LinkedIn" width="16" height="16">
                </a>
            </span>
        </div>
    </div>
</div>	


	
<script>
    // Function to dynamically set the URLs for social media sharing
    function setSocialMediaShareUrls() {
        var facebookShareLink = document.getElementById('facebook-share-link');
        var twitterShareLink = document.getElementById('twitter-share-link');
        var linkedinShareLink = document.getElementById('linkedin-share-link');
        var currentUrl = encodeURIComponent(window.location.href);

        facebookShareLink.href = 'https://www.facebook.com/sharer/sharer.php?u=' + currentUrl;
        twitterShareLink.href = 'https://twitter.com/intent/tweet?url=' + currentUrl;
        linkedinShareLink.href = 'https://www.linkedin.com/shareArticle?url=' + currentUrl;
    }

    // Call the function to set social media share URLs
    setSocialMediaShareUrls();
</script>




	
	
<script>
$(document).ready(function () {
    let jobs = []; // Array to store all jobs
    let displayedJobs = 0; // Counter for the number of jobs currently displayed
    const jobsToShowDesktop = 12; // Number of jobs to show on desktop before "Load More"
    const jobsToShowMobile = 6; // Number of jobs to show on mobile before "Load More"
    let jobsToShow = window.innerWidth > 768 ? jobsToShowDesktop : jobsToShowMobile;

    // Adjust jobsToShow based on window resize
    $(window).resize(function() {
        jobsToShow = window.innerWidth > 768 ? jobsToShowDesktop : jobsToShowMobile;
        displayedJobs = Math.min(jobsToShow, jobs.length); // Adjust displayedJobs based on new jobsToShow
        displayJobs(); // Redisplay jobs based on new size
        updateLoadMoreVisibility(); // Update button visibility after resize
    });

    // Function to populate filter dropdowns based on jobs
    function populateFilters() {
        const locationSet = new Set();
        const jobTypeSet = new Set();

        jobs.forEach(job => {
            if (job.areas && job.areas.length > 0) {
                job.areas.forEach(area => locationSet.add(area.name));
            } else if (job.country) {
                locationSet.add(job.country);
            }

            if (job.occupation_area) {
                jobTypeSet.add(job.occupation_area);
            }
        });

        // Populate location filter
        $('#locationFilter').html('<option value="All">Alla platser</option>');
        locationSet.forEach(location => {
            $('#locationFilter').append(`<option value="${location}">${location}</option>`);
        });

        // Populate job type filter
        $('#jobTypeFilter').html('<option value="All">Alla typer av jobb</option>');
        jobTypeSet.forEach(type => {
            $('#jobTypeFilter').append(`<option value="${type}">${type}</option>`);
        });
    }

    // Function to display jobs based on filters
    function displayJobs() {
        $('#jobList').empty(); // Clear current jobs

        let filteredJobs = jobs.slice(0, displayedJobs); // Get the subset of jobs to be displayed

        const selectedCountry = $('#locationFilter').val();
        const selectedJobType = $('#jobTypeFilter').val();

        filteredJobs = filteredJobs.filter(job => {
            const jobLocations = job.areas?.map(area => area.name) || [job.country];
            return (selectedCountry === 'All' || jobLocations.includes(selectedCountry)) &&
                   (selectedJobType === 'All' || job.occupation_area === selectedJobType);
        });

        filteredJobs.forEach(job => {
            $('#jobList').append(buildJobCard(job));
        });

        updateLoadMoreVisibility();
    }

    // Function to build HTML for a job card
    function buildJobCard(job) {
        const jobDetailUrl = `job-details.html?jobId=${job.ad_id}`;
        const organizationUnitName = job.organizations && job.organizations.length > 1 
            ? job.organizations[1].nameorgunit 
            : job.organizations?.[0]?.nameorgunit || 'Not specified';
        const category = job.occupation_area || 'Wistrand'; // Use occupation_area or default to 'Wistrand'

        return `
        <div class="col-12 col-md-4 col-lg-4 mb-4">
            <a href="${jobDetailUrl}" class="" style="text-decoration: none; color: inherit;" aria-label="Job details">
                <div class="card h-100">
                    <div class="card-body">
                        <div class="card-category"><span>${category}</span></div>
                        <div class="card-title">${job.title}</div>
                        <p class="card-text">${job.country}</p>
                        <a href="${jobDetailUrl}" class="stretched-link">
                            <img src="./files/arrow-right-thin.svg" class="stretched-link" alt="Details" style="">
                        </a>
                    </div>
                </div>
            </a>
        </div>`;
    }

    // Function to update the visibility of the "Load More" button
    function updateLoadMoreVisibility() {
        if (displayedJobs >= jobs.length) {
            $('#loadMore').hide();
        } else {
            $('#loadMore').show();
        }
    }

    // Function to fetch jobs from the API
    function fetchJobs() {
        fetch('https://api.talentech.io/reachmee/feed/wistrand')
            .then(response => response.json())
            .then(data => {
                jobs = data; // Store fetched jobs
                displayedJobs = Math.min(jobsToShow, jobs.length); // Initialize displayedJobs
                populateFilters(); // Fill dropdowns with options
                displayJobs(); // Show initial jobs
            })
            .catch(error => {
                console.error('Error fetching jobs:', error);
            });
    }

    // Load jobs when page is ready
    fetchJobs();

    // Event listeners for "Load More" button and filter dropdowns
    $('#loadMore').click(function() {
        displayedJobs += jobsToShow;
        displayJobs();
        updateLoadMoreVisibility();
    });

    $('#locationFilter').change(function() {
        displayedJobs = jobsToShow;
        displayJobs();
        updateLoadMoreVisibility();
    });

    $('#jobTypeFilter').change(function() {
        displayedJobs = jobsToShow;
        displayJobs();
        updateLoadMoreVisibility();
    });
});
</script>




<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
    async function fetchFeed() {
        const response = await fetch('https://api.talentech.io/reachmee/feed/wistrand');
        return await response.json();
    }

    async function geocodeArea(areaName) {
        const response = await fetch(`https://nominatim.openstreetmap.org/search?q=${areaName}&format=json&limit=1`);
        const data = await response.json();
        return data.length > 0 ? { lat: parseFloat(data[0].lat), lon: parseFloat(data[0].lon) } : null;
    }

    async function initMap() {
        const feed = await fetchFeed();
        const markers = {};

        const map = L.map('mapid', {
            attributionControl: false,
            scrollWheelZoom: false
        }).setView([64.70397159508356, 13.109082259358335], 4);
	    
        L.tileLayer('https://api.mapbox.com/styles/v1/inequi/cksdgny7b0vrk17ocyud79yck/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoiaW5lcXVpIiwiYSI6ImNsdTQ0c2FybTFiZG4ya3FzZjQxOW91ejUifQ.Z_vyEld041G0LshX2Mdtpw', {
            maxZoom: 19,
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
            id: 'mapbox/streets-v11',
            tileSize: 512,
            zoomOffset: -1,
            accessToken: 'yourMapboxAccessToken'
        }).addTo(map);

        var customIcon = L.icon({
            iconUrl: './files/NAF-logo.jpeg',
            iconSize: [34, 34],
            iconAnchor: [15, 30],
            popupAnchor: [1, -15]
        });

        for (const item of feed) {
            let coords = null;
            let location = 'Norge';

            for (const area of item.areas) {
                coords = await geocodeArea(area.name);
                if (coords) {
                    location = area.name;
                    break;
                }
            }

            if (!coords) {
                coords = { lat: 61.99589575051149, lon: 9.423291957454996 };
            }

            const key = `${coords.lat},${coords.lon}`;

            if (!markers[key]) {
                markers[key] = { marker: L.marker([coords.lat, coords.lon], { icon: customIcon }).addTo(map), jobs: [], jobIndex: 0 };
            }

            markers[key].jobs.push({
                title: item.title,
                location: location,
                url: `./job-details.html?jobId=${item.url.split('rmjob=')[1]}`
            });
        }

        Object.values(markers).forEach(markerObj => {
            markerObj.marker.on('click', () => {
                updatePopup(markerObj);
            });
        });

        function updatePopup(markerObj) {
            const job = markerObj.jobs[markerObj.jobIndex];
            let popupContent = `
                <div style="background-color: #062e2a; color: #e9f3e7; padding: 20px; border-radius: 12px;">
                    <a href="${job.url}" target="_blank" style="font-size: large; color: #e9f3e7; text-decoration: none;">${job.title}</a>
                    <div style="margin-top: 10px;">
                        <span style="color: rgba(233, 243, 231, 0.7);">Sted:</span> <span>${job.location}</span>
                    </div>
                    <div style="display: flex; justify-content: flex-end; margin-top: 10px;">
                        <a href="${job.url}" target="_blank" style="background-color: #ffdb16; color: #1a1a1a; padding: 5px 10px; text-decoration: none; border-radius: 5px;">Se stilling</a>
                    </div>
                    ${markerObj.jobs.length > 1 ? `
                    <div style="display: flex; justify-content: space-between; margin-top: 15px;">
                        <button onclick="changeJob(${markerObj.marker._leaflet_id}, -1, event)" style="background: none; border: none; cursor: pointer; color: #e9f3e7;"><i class="fa fa-chevron-left"></i></button>
                        <button onclick="changeJob(${markerObj.marker._leaflet_id}, 1, event)" style="background: none; border: none; cursor: pointer; color: #e9f3e7;"><i class="fa fa-chevron-right"></i></button>
                    </div>
                    ` : ''}
                </div>
            `;
            markerObj.marker.bindPopup(popupContent).openPopup();

            markerObj.marker.getPopup().on('remove', () => {
                markerObj.marker.off().on('click', () => {
                    updatePopup(markerObj);
                });
            });
        }

        window.changeJob = function(markerId, direction, e) {
            e.stopPropagation();
            const markerObj = Object.values(markers).find(m => m.marker._leaflet_id === markerId);
            markerObj.jobIndex += direction;
            if (markerObj.jobIndex >= markerObj.jobs.length) {
                markerObj.jobIndex = 0;
            } else if (markerObj.jobIndex < 0) {
                markerObj.jobIndex = markerObj.jobs.length - 1;
            }
            updatePopup(markerObj);
            return false;
        };
    }

    document.addEventListener('DOMContentLoaded', initMap);
</script>






	

	
	
</body>

</html>
